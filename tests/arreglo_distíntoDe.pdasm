PDVM 1.0
PLATFORM "pdcrt"

SECTION "code"
  LOCAL 0
  LOCAL 1

  ICONST 0
  ICONST 1
  ICONST 2
  MKARR 3
  LSET 0

  ICONST 0
  ICONST 1
  ICONST 2
  MKARR 3
  LSET 1

  LGET 0
  LGET 1
  CMPREFEQ
  NOT
  MTRUE

  LGET 0
  LGET 1
  CMPNEQ
  NOT
  MTRUE
  LGET 1
  LGET 0
  CMPNEQ
  NOT
  MTRUE

  MK0CLZ 1
  LSET 0

  LGET 0
  DYNCALL 0, 1
  LGET 0
  DYNCALL 0, 1
  LGET 0
  DYNCALL 0, 1
  MKARR 3
  LSET 1

  LGET 1
  ICONST 0
  ROT 1
  MSG 3, 1, 1
  LGET 1
  ICONST 1
  ROT 1
  MSG 3, 1, 1
  CMPNEQ
  NOT
  MTRUE

  LGET 1
  ICONST 1
  ROT 1
  MSG 3, 1, 1
  ICONST 5
  CMPNEQ
  MTRUE

  LGET 1
  LGET 1
  CMPNEQ
  NOT
  MTRUE

  LGET 0
  LGET 1
  CMPNEQ
  MTRUE
  LGET 1
  LGET 0
  CMPNEQ
  MTRUE

  LGET 1
  MSG 4, 0, 1
  LSET 0

  LGET 0
  LGET 1
  CMPREFEQ
  NOT
  MTRUE

  LGET 0
  ICONST 0
  ROT 1
  MSG 3, 1, 1
  LGET 1
  ICONST 1
  ROT 1
  MSG 3, 1, 1
  CMPREFEQ
  NOT
  MTRUE

  LGET 0
  LGET 1
  CMPNEQ
  NOT
  MTRUE
  LGET 1
  LGET 0
  CMPNEQ
  NOT
  MTRUE
ENDSECTION

SECTION "procedures"
  PROC 1
    OPNFRM EACT, NIL, 0
    CLSFRM EACT
    MKCLZ EACT, 2
    TMSG 2, 0, 1
  ENDPROC

  PROC 2
    PARAM 0
    PARAM 1
    OPNFRM EACT, ESUP, 0
    CLSFRM EACT
    LGET 0
    LCONST 0
    CMPEQ
    CHOOSE 1, 2
    NAME 2
    LGET 0
    LCONST 1
    CMPEQ
    CHOOSE 1, 3
    NAME 3
    LGET 0
    LCONST 4
    CMPEQ
    CHOOSE 4, 5
    NAME 5
    LGET 0
    PRN
    NL
    BCONST 0
    MTRUE

    NAME 1
    LGET 1
    OBJTAG
    ICONST 5 -- TOBJ_OBJETO
    CMPEQ
    NOT
    RETN 1

    NAME 4
    LGET ESUP
    RETN 1
  ENDPROC
ENDSECTION

SECTION "constant pool"
  #0 STRING "dist√≠ntoDe"
  #1 STRING "operador_no="
  #2 STRING "comoObjeto"
  #3 STRING "en"
  #4 STRING "clonar"
ENDSECTION
